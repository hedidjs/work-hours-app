module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},13906,a=>{"use strict";function b(a,b){let[c,d]=a.split(":").map(Number),[e,f]=b.split(":").map(Number),g=60*c+d,h=60*e+f;h<g&&(h+=1440);let i=(h-g)/60,j=Math.min(i,12),k=Math.max(0,i-12);return{totalHours:Math.round(100*i)/100,regularHours:Math.round(100*j)/100,overtimeHours:Math.round(100*k)/100}}function c(a){return new Intl.NumberFormat("he-IL",{style:"currency",currency:"ILS"}).format(a)}function d(a){let b=new Date(a);return new Intl.DateTimeFormat("he-IL",{day:"2-digit",month:"2-digit",year:"numeric"}).format(b)}function e(a){let b=Math.floor(a),c=Math.round((a-b)*60);return`${b}:${c.toString().padStart(2,"0")}`}function f(a,c,d,e){if(0===a.length)return{totalBeforeVat:0,totalWithVat:0,bonusesTotal:0,regularHours:0,overtimeHours:0};let f=function(a,c){if(0===a.length)return{totalHours:0,regularHours:0,overtimeHours:0};let d=0;for(let c of a)d+=b(c.startTime,c.endTime).totalHours;let e=Math.min(d,12),f=Math.max(0,d-12);return{totalHours:Math.round(100*d)/100,regularHours:Math.round(100*e)/100,overtimeHours:Math.round(100*f)/100}}(a,0),g=0;if("separate"===c)for(let c of a)b(c.startTime,c.endTime).totalHours>0&&(g+=void 0!==c.customDailyRate?c.customDailyRate:e.dailyRate);else if(f.regularHours>0){let b=a[0]?.customDailyRate;g=void 0!==b?b:e.dailyRate}let h=f.overtimeHours*e.overtimeRate,i=d*e.kmRate,j=0;for(let b of a){let a=b.selectedBonuses||[];j+=(e.bonuses||[]).filter(b=>a.includes(b.id)).reduce((a,b)=>a+b.amount,0)}let k=g+h+i+j,l=k*(1+e.vatPercent/100);return{totalBeforeVat:Math.round(100*k)/100,totalWithVat:Math.round(100*l)/100,bonusesTotal:Math.round(100*j)/100,regularHours:f.regularHours,overtimeHours:f.overtimeHours}}a.s(["calculateMultiSegmentPayment",()=>f,"formatCurrency",()=>c,"formatDate",()=>d,"formatHours",()=>e])},2707,a=>a.a(async(b,c)=>{try{let b=await a.y("uuid-f504971595fbf72b");a.n(b),c()}catch(a){c(a)}},!0),23972,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(2707),g=a.i(13906),h=b([f]);[f]=h.then?(await h)():h;let j={name:"",dailyRate:0,kmRate:0,overtimeRate:0,vatPercent:17,bonuses:[]};function i({employers:a,onSave:b,onDelete:c}){let[h,i]=(0,e.useState)(!1),[k,l]=(0,e.useState)(null),[m,n]=(0,e.useState)(j),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(0),u=()=>{l(null),n(j),i(!0)},v=()=>{i(!1),l(null),n(j),p(!1),r(""),t(0)};return(0,d.jsxs)("div",{className:"pb-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[(0,d.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"מעסיקים"}),!h&&a.length<10&&(0,d.jsx)("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 md:px-4 rounded-lg font-medium transition-colors text-sm md:text-base",children:"+ הוספה"})]}),h&&(0,d.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!m.name.trim())return void alert("נא להזין שם מעסיק");let c={id:k||(0,f.v4)(),...m};b(c),v()},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 md:p-6 transition-colors mb-4 md:mb-6",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3 md:mb-4 text-sm md:text-base",children:k?"עריכת מעסיק":"הוספת מעסיק חדש"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["שם המעסיק ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",value:m.name,onChange:a=>n({...m,name:a.target.value}),required:!0,className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם המעסיק"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"מחיר יומית (עד 12 שעות)"}),(0,d.jsx)("input",{type:"number",min:"0",step:"1",value:m.dailyRate,onChange:a=>n({...m,dailyRate:Number(a.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"מחיר שעה נוספת"}),(0,d.jsx)("input",{type:"number",min:"0",step:"1",value:m.overtimeRate,onChange:a=>n({...m,overtimeRate:Number(a.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"מחיר לקילומטר"}),(0,d.jsx)("input",{type:"number",min:"0",step:"0.1",value:m.kmRate,onChange:a=>n({...m,kmRate:Number(a.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:'אחוז מע"מ'}),(0,d.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:m.vatPercent,onChange:a=>n({...m,vatPercent:Number(a.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"17"})]})]}),(0,d.jsxs)("div",{className:"mt-4 md:mt-6 border-t pt-3 md:pt-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2 md:mb-3",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-sm md:text-base",children:"תוספות"}),!o&&(0,d.jsx)("button",{type:"button",onClick:()=>p(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ הוספת תוספת"})]}),o&&(0,d.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 md:p-4 mb-3 md:mb-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"שם התוספת"}),(0,d.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"לדוגמה: ציוד מיוחד"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"מחיר"}),(0,d.jsx)("input",{type:"number",min:"0",step:"1",value:s,onChange:a=>t(Number(a.target.value)),className:"w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{type:"button",onClick:()=>{if(!q.trim())return void alert("נא להזין שם לתוספת");if(s<=0)return void alert("נא להזין מחיר לתוספת");let a={id:(0,f.v4)(),name:q,amount:s};n({...m,bonuses:[...m.bonuses,a]}),r(""),t(0),p(!1)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-1.5 rounded-lg text-sm font-medium",children:"הוסף"}),(0,d.jsx)("button",{type:"button",onClick:()=>{p(!1),r(""),t(0)},className:"bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 px-4 py-1.5 rounded-lg text-sm font-medium",children:"ביטול"})]})]}),m.bonuses.length>0?(0,d.jsx)("div",{className:"space-y-2",children:m.bonuses.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-4 py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:a.name}),(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400 mr-2",children:"-"}),(0,d.jsx)("span",{className:"text-green-600 dark:text-green-400",children:(0,g.formatCurrency)(a.amount)})]}),(0,d.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void n({...m,bonuses:m.bonuses.filter(a=>a.id!==b)})},className:"text-red-500 hover:text-red-700",children:"✕"})]},a.id))}):(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"אין תוספות"})]}),(0,d.jsxs)("div",{className:"mt-4 md:mt-6 flex flex-col md:flex-row gap-3 md:gap-4",children:[(0,d.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 md:py-2 rounded-lg font-medium transition-colors",children:k?"עדכון":"שמירה"}),(0,d.jsx)("button",{type:"button",onClick:v,className:"bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 px-6 py-3 md:py-2 rounded-lg font-medium transition-colors",children:"ביטול"})]})]}),0===a.length?(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-8 text-center transition-colors text-gray-500 dark:text-gray-400",children:[(0,d.jsx)("p",{className:"mb-4",children:"אין מעסיקים עדיין"}),!h&&(0,d.jsx)("button",{onClick:u,className:"text-blue-600 hover:text-blue-700 font-medium",children:"הוסף מעסיק ראשון"})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(a=>(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 transition-colors",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white text-lg mb-3",children:a.name}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"יומית:"})," ",(0,g.formatCurrency)(a.dailyRate)]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"שעה נוספת:"})," ",(0,g.formatCurrency)(a.overtimeRate)]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"קילומטר:"})," ",(0,g.formatCurrency)(a.kmRate)]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:'מע"מ:'})," ",a.vatPercent,"%"]}),a.bonuses&&a.bonuses.length>0&&(0,d.jsxs)("div",{className:"pt-2 border-t",children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"תוספות:"}),(0,d.jsx)("div",{className:"mt-1 space-y-1",children:a.bonuses.map(a=>(0,d.jsxs)("div",{className:"text-xs bg-gray-100 dark:bg-gray-700 rounded px-2 py-1",children:[a.name,": ",(0,g.formatCurrency)(a.amount)]},a.id))})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>{l(a.id),n({name:a.name,dailyRate:a.dailyRate,kmRate:a.kmRate,overtimeRate:a.overtimeRate,vatPercent:a.vatPercent,bonuses:a.bonuses||[]}),i(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"עריכה"}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void(window.confirm("האם אתה בטוח שברצונך למחוק מעסיק זה?")&&c(b))},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"מחיקה"})]})]},a.id))})]})}a.s(["Employers",()=>i]),c()}catch(a){c(a)}},!1),13790,a=>a.a(async(b,c)=>{try{var d=a.i(79168),e=a.i(27068),f=a.i(32759),g=a.i(39141),h=a.i(6555),i=a.i(23972),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/Employers",pathname:"/Employers",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/Employers",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__61da88e8._.js.map